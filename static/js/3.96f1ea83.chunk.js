(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{291:function(t,e,s){"use strict";s.d(e,"a",(function(){return u}));var n=s(5),i=s(83),o=s(1),c=(s(0),s(8)),r=s(11),a=function(t){return{isAuth:t.auth.isAuth}};function u(t){return Object(r.b)(a)((function(e){var s=e.isAuth,r=Object(i.a)(e,["isAuth"]);return s?Object(o.jsx)(t,Object(n.a)({},r)):Object(o.jsx)(c.a,{to:"/login"})}))}},292:function(t,e,s){},293:function(t,e,s){t.exports={descriptionPost:"ProfileInfo_descriptionPost__2R1kc",img:"ProfileInfo_img__28XKy"}},294:function(t,e,s){t.exports={item:"Post_item__2yFfh"}},295:function(t,e,s){t.exports={content:"Posts_content__1J-i_",postsBlock:"Posts_postsBlock__3JR_w",posts:"Posts_posts__3ne2E"}},297:function(t,e,s){"use strict";s.r(e);var n=s(29),i=s(30),o=s(33),c=s(32),r=s(1),a=s(0),u=s.n(a),p=s(292),j=s.n(p),D=s(293),l=s.n(D),d=s(127),b=function(t){var e=Object(a.useState)(t.status),s=Object(d.a)(e,2),n=s[0],i=s[1],o=Object(a.useState)(!1),c=Object(d.a)(o,2),u=c[0],p=c[1];Object(a.useEffect)((function(){i(t.status)}),[t.status]);return Object(r.jsx)(r.Fragment,{children:u?Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"text",onChange:function(t){i(t.currentTarget.value)},onBlur:function(){p(!1),t.updateStatus(n)},autoFocus:!0,value:n})}):Object(r.jsx)("div",{children:Object(r.jsx)("span",{onDoubleClick:function(){p(!0)},children:t.status||"------"})})})};var f=function(t){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:l.a.descriptionPost,children:[Object(r.jsx)("img",{src:t.profile?t.profile.photos.large:"",alt:"User photo"}),Object(r.jsx)(b,{status:t.status,updateStatus:t.updateStatus})]})})},h=s(294),O=s.n(h);var B=function(t){return Object(r.jsxs)("div",{className:O.a.item,children:[Object(r.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c3/%D0%9F%D0%B0%D1%82%D1%80%D0%B8%D0%B0%D1%80%D1%85_%D0%9A%D0%B8%D1%80%D0%B8%D0%BB%D0%BB_%D0%BD%D0%B0_%D0%B2%D1%81%D1%82%D1%80%D0%B5%D1%87%D0%B5_%D1%81_%D0%9F%D0%B0%D1%82%D1%80%D0%B8%D0%B0%D1%80%D1%85%D0%BE%D0%BC_%D0%A4%D0%B5%D0%BE%D1%84%D0%B8%D0%BB%D0%BE%D0%BC_III_%D0%B8_%D0%92%D0%BB%D0%B0%D0%B4%D0%B8%D0%BC%D0%B8%D1%80%D0%BE%D0%BC_%D0%9F%D1%83%D1%82%D0%B8%D0%BD%D1%8B%D0%BC.jpg"}),Object(r.jsx)(r.Fragment,{children:t.message}),Object(r.jsx)("div",{children:Object(r.jsxs)("span",{children:[" ",Object(r.jsx)(r.Fragment,{children:t.likesCount})," like"]})})]})},m=s(295),x=s.n(m),_=s(126),g=s(125),v=s(80),P=s(59),S=Object(v.a)(10),k=u.a.memo((function(t){var e=t.posts.map((function(t){return Object(r.jsx)(B,{message:t.message,likesCount:t.likesCount},t.id)}));return Object(r.jsxs)("div",{className:x.a.postsBlock,children:[Object(r.jsx)("h3",{children:"My posts"}),Object(r.jsx)(y,{onSubmit:function(e){t.addPost(e.newPostBody)}}),Object(r.jsx)("div",{className:x.a.posts,children:e})]})})),y=Object(g.a)({form:"AddPost"})((function(t){return Object(r.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(r.jsx)("div",{children:Object(r.jsx)(_.a,{component:P.b,name:"newPostBody",validate:[v.b,S]})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"App post"})})]})})),C=s(11),A=s(93),w=Object(C.b)((function(t){return{posts:t.profilePage.posts,newPost:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){return t(Object(A.a)(e))}}}))(k),I=function(t){return Object(r.jsxs)("div",{className:j.a.content,children:[Object(r.jsx)(f,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(r.jsx)(w,{})]})},F=s(8),E=s(22),U=s(291),N=function(t){Object(o.a)(s,t);var e=Object(c.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userID;t||this.props.authorizedUserID&&((t=this.props.authorizedUserID.toString())||this.props.history.push("/login")),this.props.getUserProfile(t),this.props.getProfileStatus(t)}},{key:"render",value:function(){return Object(r.jsx)(I,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}]),s}(u.a.Component);e.default=Object(E.d)(Object(C.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserID:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:A.c,getProfileStatus:A.b,updateStatus:A.e}),F.f,U.a)(N)}}]);
//# sourceMappingURL=3.96f1ea83.chunk.js.map